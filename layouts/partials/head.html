<head>
  <meta charset="utf-8">
  <title>{{ .Title }}</title>

  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="{{ with .Params.Description }}{{ . }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}">
  {{ with .Site.Params.author }}<meta name="author" content="{{ . }}">{{ end }}
  {{ hugo.Generator }}

  {{ range .Site.Params.plugins.css }}
  <link rel="stylesheet" href="{{ . | absURL }}">
  {{ end }}

  {{ $style := resources.Get "css/style.css" | minify }}
  <link rel="stylesheet" href="{{ $style.Permalink }}" media="screen">

  <link rel="shortcut icon" href="{{ `media/favicon.png` | absURL }}" type="image/x-icon">
  <link rel="icon" href="{{ `media/favicon.png` | absURL }}" type="image/x-icon">

  {{ range .Site.Params.plugins.head_js }}
    <script src="{{ . | absURL }}" type="text/javascript"></script>
  {{ end }}

  <link href="/pagefind/pagefind-ui.css" rel="stylesheet">
  <script src="/pagefind/pagefind-ui.js" type="text/javascript"></script>

  <script>
    ($ => {
      $(window).on('DOMContentLoaded', () => {
        new PagefindUI({
          element: "#search",
          translations: {
            placeholder: "Suchen...",
            zero_results: "Leider konnten keine Ergebnisse zu [SEARCH_TERM] gefunden werden",
            clear_search: "LÃ¶schen"
          }
        });

        $('#search').addEventListener('shown.bs.modal', () => {
          $('.pagefind-ui__search-input input').focus();
        });
      });
    })(jQuery);
  </script>

  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
      var u="https://analytics.cantorgymnasium.de/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
    })();
  </script>

  {{ partial "opengraph" . }}
  {{ partial "twitter" . }}

</head>

<div id="pagefind-search" class="modal fade" data-pagefind-ignore>
  <div class="modal-dialog modal-xl modal-dialog-scrollable modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <div id="search"></div>
      </div>
    </div>
  </div>
</div>