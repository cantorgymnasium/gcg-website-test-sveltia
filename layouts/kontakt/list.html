{{ define "main" }}

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
 integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
 crossorigin=""></script>

<section class="section pb-0 bg-body-tertiary">
  <div class="container">
    <div class="row">
      <div class="col-lg-6 mb-4 mb-lg-0">
        <form action="https://php.cantorgymnasium.de/formtools/process.php" method="post">
          <input type="hidden" name="form_tools_form_id" value="2" />
          <div hidden>
            <input type="text" name="bad_email" value="" />
          </div>
          <input type="text" class="form-control form-control-lg mb-3" id="name" name="visitor_name" placeholder="Ihr Name" required>
          <input type="email" class="form-control form-control-lg mb-3" id="mail" name="visitor_email" placeholder="Ihre E-Mail Adresse" required>
          <input type="text" class="form-control form-control-lg mb-3" id="subject" name="email_title" placeholder="Betreff" required>
          <textarea name="visitor_message" id="message" class="form-control form-control-lg mb-3" placeholder="Nachricht" required></textarea>
          <button type="submit" value="send" class="btn btn-primary">Senden</button>
        </form>
      </div>
      <div class="col-lg-6">
        <div class="card">
          <div class="card-header fw-bold">
            Kontaktdaten
          </div>
          <ul class="list-group list-group-flush">
            {{ range .Params.kontaktdaten }}
            <li class="list-group-item">
              <p class="card-title mb-0">{{ .name }}</p>
              <p class="text-muted mb-0">{{ .position }}</p>
              <p class="card-text"><a href="mailto:{{ .email }}"><i class="mdi mdi-email-multiple-outline me-2"></i>{{ with (split .email "@") }}{{ print (index . 0) "(at)" (index . 1) }}{{ end }}</a></p>
            </li>
            {{ end }}
            <li class="list-group-item">
              <p class="card-text"><i class="mdi mdi-phone-outline me-2"></i>Telefon: <a href="tel:+493456903156">+49-0345/6903156</a></p>
              <p class="card-text"><i class="mdi mdi-fax me-2"></i>Fax: <a href="tel:+493456903157">+49-0345/6903157</a></p>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section bg-body-tertiary">
    <div class="container">
      <div class="row">
        <div id="map" class="card col-12" style="height: 50vh;">
          <script>
            var map = L.map('map', {
              scrollWheelZoom: false
            }).setView([51.473361, 11.965619], 100);

            L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            var marker = L.marker([51.473361, 11.965619]).addTo(map);

            map.on('click', (e) => {
                marker.bindPopup('Georg-Cantor-Gymnasium<br>Torstra√üe 13<br>06110 Halle (Saale)<br><b><a href="https://www.qwant.com/maps/place/osm:way:54033279@Georg-Cantor-Gymnasium">Route</a>').openPopup();
            });
          </script>
        </div>
      </div>
    </div>
</section>

{{ end }}
